<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Claw OS Dashboard</title>
  <style>
    :root {
      --bg: #0a1022;
      --bg2: #070c1a;
      --panel: #111a35;
      --panel-soft: #0f1730;
      --text: #ecf1ff;
      --muted: #9fb0da;
      --border: #2a3a67;
      --accent: #67d9ef;
      --ok: #59db8d;
      --warn: #ffbe42;
      --bad: #ff6478;
      --pill: #152247;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      color: var(--text);
      background: linear-gradient(180deg, var(--bg), var(--bg2));
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      min-height: 100vh;
    }
    header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: rgba(10,16,34,.9);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
      padding: 14px 18px;
    }
    .header-row {
      max-width: 1300px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
      flex-wrap: wrap;
    }
    h1 { margin: 0; font-size: 20px; }
    .sub { color: var(--muted); font-size: 12px; margin-top: 4px; }

    .tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .tab {
      border: 1px solid var(--border);
      background: var(--pill);
      color: var(--text);
      border-radius: 999px;
      padding: 7px 11px;
      font-size: 12px;
      cursor: pointer;
    }
    .tab.active {
      border-color: #4fd6ff;
      box-shadow: 0 0 0 1px #4fd6ff33 inset;
      color: #c8f6ff;
    }

    main {
      max-width: 1300px;
      margin: 0 auto;
      padding: 16px;
    }
    .view { display: none; }
    .view.active { display: block; }

    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
    .card {
      background: linear-gradient(180deg, var(--panel), var(--panel-soft));
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 14px;
      box-shadow: 0 8px 24px rgba(0,0,0,.26);
    }
    .span-3{grid-column: span 3;} .span-4{grid-column: span 4;} .span-5{grid-column: span 5;}
    .span-6{grid-column: span 6;} .span-7{grid-column: span 7;} .span-8{grid-column: span 8;} .span-12{grid-column: span 12;}
    @media (max-width: 960px){
      .span-3,.span-4,.span-5,.span-6,.span-7,.span-8,.span-12 { grid-column: span 12; }
    }

    .label { color: var(--muted); font-size: 11px; text-transform: uppercase; letter-spacing: .08em; }
    .kpi { font-size: 28px; font-weight: 700; margin: 8px 0 4px; }
    .small { color: var(--muted); font-size: 12px; }
    .pill {
      display: inline-block;
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 4px 8px;
      margin-right: 6px;
      margin-top: 6px;
      font-size: 12px;
      color: #cfe3ff;
    }
    .ok { color: var(--ok); }
    .warn { color: var(--warn); }
    .bad { color: var(--bad); }

    ul { margin: 10px 0 0 18px; padding: 0; }
    li { margin: 6px 0; }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      font-size: 13px;
    }
    th, td {
      text-align: left;
      border-bottom: 1px solid var(--border);
      padding: 8px 6px;
      vertical-align: top;
    }
    th { color: var(--muted); font-weight: 600; }

    .badge {
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 11px;
      background: #122149;
      display: inline-block;
    }

    .status-dot {
      width: 9px; height: 9px; border-radius: 50%; display: inline-block; margin-right: 6px;
      vertical-align: middle;
    }
    .dot-ok { background: var(--ok); }
    .dot-warn { background: var(--warn); }
    .dot-bad { background: var(--bad); }

    .bar {
      margin-top: 8px;
      height: 10px;
      border: 1px solid var(--border);
      border-radius: 999px;
      overflow: hidden;
      background: #0b1226;
    }
    .fill { height: 100%; background: linear-gradient(90deg, #67d9ef, #79efba); }

    .footer-note {
      margin-top: 12px;
      color: var(--muted);
      font-size: 12px;
    }
    code { color: #bff4ff; }
    .link-btn {
      display: inline-block;
      margin-top: 8px;
      font-size: 12px;
      color: #bff4ff;
      text-decoration: none;
      border: 1px solid var(--border);
      padding: 6px 10px;
      border-radius: 10px;
      background: #101a37;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-row">
      <div>
        <h1>Claw — OpenClaw Operating Dashboard</h1>
        <div class="sub">Your click-through snapshot: agents, sub-agents, objectives, memory contracts, integrations, and operating rules.</div>
      </div>
      <nav class="tabs" id="tabs"></nav>
    </div>
  </header>

  <main>
    <section class="view active" data-view="overview">
      <div class="grid">
        <article class="card span-3">
          <div class="label">Execution Mode</div>
          <div class="kpi">Single-Lane</div>
          <div class="small">Parallel only if you explicitly say: <code>GO PARALLEL</code></div>
        </article>

        <article class="card span-3">
          <div class="label">Primary Agent</div>
          <div class="kpi">1</div>
          <div class="small">Main operator model handles judgment + user-facing output.</div>
        </article>

        <article class="card span-3">
          <div class="label">Sub-Agent Pattern</div>
          <div class="kpi">On-demand</div>
          <div class="small">Spin up only for complex/long tasks.</div>
        </article>

        <article class="card span-3">
          <div class="label">Risk Posture</div>
          <div class="kpi ok">Guarded</div>
          <div class="small">No infra/config changes without explicit GO.</div>
        </article>

        <article class="card span-8">
          <div class="label">Operating Contract (How to think about OpenClaw)</div>
          <ul>
            <li>Main agent = strategic brain, synthesis, final answers.</li>
            <li>Sub-agents = cheap specialists (research/build/ops-check) when needed.</li>
            <li>Memory = durable decisions, preferences, constraints, open loops.</li>
            <li>Notion = read-first; write only on your explicit command.</li>
            <li>No destructive/system actions without direct approval.</li>
          </ul>
        </article>

        <article class="card span-4">
          <div class="label">Context Pressure</div>
          <div class="kpi">~20%</div>
          <div class="bar"><div class="fill" style="width:20%"></div></div>
          <div class="small">Keep durable facts in <code>memory.md</code>; keep chat lean.</div>
        </article>

        <article class="card span-12">
          <div class="label">Quick Links</div>
          <a class="link-btn" href="./agent-architecture.html">Open Architecture Diagram</a>
          <a class="link-btn" href="https://docs.openclaw.ai" target="_blank" rel="noreferrer">OpenClaw Docs</a>
          <a class="link-btn" href="../memory.md">Open memory.md</a>
        </article>
      </div>
    </section>

    <section class="view" data-view="agents">
      <div class="grid">
        <article class="card span-7">
          <div class="label">Agent Topology</div>
          <ul>
            <li><strong>Main Operator</strong>: high-judgment model for planning, prioritization, and final user response.</li>
            <li><strong>Research Sub-agent</strong>: cheap model + web tools for evidence gathering.</li>
            <li><strong>Builder Sub-agent</strong>: cheap coding model for implementation/prototyping.</li>
            <li><strong>Ops Guard Sub-agent</strong>: cheap validator for risk/policy checks.</li>
            <li>All outputs route back to Main Operator for final decision.</li>
          </ul>
          <div class="footer-note">Pattern goal: quality where needed, cost control everywhere else.</div>
        </article>

        <article class="card span-5">
          <div class="label">Control Rules</div>
          <ul>
            <li>Default single lane.</li>
            <li>No background swarm unless explicitly requested.</li>
            <li>Sub-agents do work; main agent talks to Nick.</li>
            <li>Model switching stays intentional, not automatic drift.</li>
          </ul>
          <span class="pill">Main: quality-first</span>
          <span class="pill">Subs: cost-first</span>
          <span class="pill">Parallel: opt-in</span>
        </article>

        <article class="card span-12">
          <div class="label">Model Allocation Blueprint</div>
          <table>
            <thead><tr><th>Role</th><th>Suggested Model Tier</th><th>When to Use</th><th>Output Type</th></tr></thead>
            <tbody>
              <tr><td>Main operator</td><td>High-quality (e.g., opus class)</td><td>Strategy, tradeoffs, final output</td><td>User-facing response + decisions</td></tr>
              <tr><td>Research sub-agent</td><td>Low-cost fast model</td><td>Search, summarize, source extraction</td><td>Bullet findings + citations</td></tr>
              <tr><td>Builder sub-agent</td><td>Low-cost coding model</td><td>Scaffold/update files, repetitive coding</td><td>Patches + test notes</td></tr>
              <tr><td>Ops guard sub-agent</td><td>Low-cost validator</td><td>Safety/policy/risk checks</td><td>GO / NO-GO recommendation</td></tr>
            </tbody>
          </table>
        </article>
      </div>
    </section>

    <section class="view" data-view="subagents">
      <div class="grid">
        <article class="card span-4">
          <div class="label">Current State</div>
          <div class="kpi">Idle</div>
          <div class="small">No long-running sub-agent swarm active.</div>
        </article>
        <article class="card span-8">
          <div class="label">Sub-agent SOP (when active)</div>
          <ol>
            <li>Define one narrow task per sub-agent.</li>
            <li>Set expected output format before spawn.</li>
            <li>Check milestones only (not noisy polling).</li>
            <li>Main agent merges outputs + resolves conflicts.</li>
            <li>Write durable outcomes to memory.</li>
          </ol>
        </article>

        <article class="card span-12">
          <div class="label">Task Lanes You Can Reuse</div>
          <table>
            <thead><tr><th>Lane</th><th>Scope</th><th>Model Bias</th><th>Stop Condition</th></tr></thead>
            <tbody>
              <tr><td>Research lane</td><td>Gather facts, compare options</td><td>Fast + cheap</td><td>3-5 sourced findings</td></tr>
              <tr><td>Build lane</td><td>Implement concrete file changes</td><td>Cheap coding</td><td>Patch + basic validation</td></tr>
              <tr><td>Audit lane</td><td>Check risks / hidden regressions</td><td>Cheap validator</td><td>GO/NO-GO report</td></tr>
            </tbody>
          </table>
        </article>
      </div>
    </section>

    <section class="view" data-view="objectives">
      <div class="grid">
        <article class="card span-4">
          <div class="label">Objective Snapshot Source</div>
          <div class="small"><span class="status-dot dot-ok"></span>Notion Objectives DB connected</div>
          <div class="footer-note">Read-first integration; writes only on explicit command.</div>
        </article>

        <article class="card span-8">
          <div class="label">Highlighted Objectives</div>
          <table>
            <thead><tr><th>Objective</th><th>Status</th><th>Notes</th></tr></thead>
            <tbody>
              <tr><td>Become a stablecoin expert</td><td><span class="badge">Recovering</span></td><td>High-priority domain objective</td></tr>
              <tr><td>Something (in crypto) part-time (at least)</td><td><span class="badge">Pass</span></td><td>Related optional lane</td></tr>
              <tr><td>Sell manhattan co-op</td><td><span class="badge">Recovering</span></td><td>Non-crypto but material objective</td></tr>
            </tbody>
          </table>
        </article>

        <article class="card span-12">
          <div class="label">How to Use This Tab</div>
          <ul>
            <li>Treat this as your strategic board: active objective themes + status drift.</li>
            <li>For execution, pick one objective per week and attach one measurable next action.</li>
            <li>When you say “add database entry …”, we write to Notion manually.</li>
          </ul>
        </article>
      </div>
    </section>

    <section class="view" data-view="memory">
      <div class="grid">
        <article class="card span-6">
          <div class="label">Durable Memory Policy</div>
          <ul>
            <li>Capture: decisions, preferences, constraints, active loops.</li>
            <li>Avoid storing secrets unless explicitly requested.</li>
            <li>Use durable memory for multi-day continuity.</li>
          </ul>
        </article>

        <article class="card span-6">
          <div class="label">Current Key Constraints</div>
          <ul>
            <li>Parallel blocked by default (only via <code>GO PARALLEL</code>).</li>
            <li>System changes require explicit approval token.</li>
            <li>Guardrails to avoid rate-limit spikes and runaway processes.</li>
          </ul>
        </article>

        <article class="card span-12">
          <div class="label">Open Loops (Tracked)</div>
          <table>
            <thead><tr><th>Loop</th><th>Status</th><th>Next Action</th></tr></thead>
            <tbody>
              <tr><td>Notion integration maturity</td><td><span class="badge">In progress</span></td><td>Use read snapshots; define write schema later</td></tr>
              <tr><td>OpenClaw operating dashboard</td><td><span class="badge">Shipped v1</span></td><td>Add live status hooks when requested</td></tr>
            </tbody>
          </table>
        </article>
      </div>
    </section>

    <section class="view" data-view="integrations">
      <div class="grid">
        <article class="card span-12">
          <div class="label">Integration Matrix</div>
          <table>
            <thead><tr><th>Integration</th><th>State</th><th>Mode</th><th>Policy</th></tr></thead>
            <tbody>
              <tr><td>Notion</td><td><span class="status-dot dot-ok"></span>Connected</td><td>Read-first</td><td>Manual writes only on explicit command</td></tr>
              <tr><td>Browser automation</td><td><span class="status-dot dot-warn"></span>Intermittent</td><td>Fallback path</td><td>Use API-first where possible</td></tr>
              <tr><td>GitHub (gh)</td><td><span class="status-dot dot-ok"></span>Available</td><td>On demand</td><td>No bulk destructive actions without GO</td></tr>
            </tbody>
          </table>
        </article>

        <article class="card span-6">
          <div class="label">Notion Command Examples</div>
          <ul>
            <li><code>read my objectives from notion</code></li>
            <li><code>add a database entry: ...</code></li>
            <li><code>update objective status in notion: ...</code></li>
          </ul>
        </article>

        <article class="card span-6">
          <div class="label">Write Guardrails</div>
          <ul>
            <li>No silent writes.</li>
            <li>No delete/archive unless explicit and confirmed.</li>
            <li>Writes should be narrowly scoped to requested rows/fields.</li>
          </ul>
        </article>
      </div>
    </section>

    <section class="view" data-view="runbook">
      <div class="grid">
        <article class="card span-12">
          <div class="label">Operator Runbook</div>
          <ol>
            <li>Check Overview tab: mode, risk posture, current focus.</li>
            <li>Pick objective from Objectives tab.</li>
            <li>If task is big, activate sub-agent lane(s) deliberately.</li>
            <li>Review output in Agents/Sub-agents tabs.</li>
            <li>Store durable decisions in memory.</li>
            <li>Optionally push explicit updates to Notion.</li>
          </ol>
        </article>

        <article class="card span-6">
          <div class="label">Weekly 15-min Review Template</div>
          <ul>
            <li>What objective moved this week?</li>
            <li>What stalled and why?</li>
            <li>What single leverage move next week?</li>
          </ul>
        </article>

        <article class="card span-6">
          <div class="label">Upgrade Backlog</div>
          <ul>
            <li>Live session/sub-agent ingestion from OpenClaw runtime.</li>
            <li>Objective burn-down and trend charts.</li>
            <li>One-click export of weekly summary.</li>
          </ul>
        </article>
      </div>
    </section>
  </main>

  <script>
    const tabDefs = [
      ["overview", "Overview"],
      ["agents", "Agents"],
      ["subagents", "Sub-agents"],
      ["objectives", "Objectives"],
      ["memory", "Memory"],
      ["integrations", "Integrations"],
      ["runbook", "Runbook"]
    ];

    const tabsEl = document.getElementById("tabs");
    const views = [...document.querySelectorAll(".view")];

    function setView(view) {
      views.forEach(v => v.classList.toggle("active", v.dataset.view === view));
      [...tabsEl.querySelectorAll(".tab")].forEach(t => t.classList.toggle("active", t.dataset.view === view));
      history.replaceState({}, "", `#${view}`);
    }

    tabDefs.forEach(([id, label]) => {
      const b = document.createElement("button");
      b.className = "tab";
      b.dataset.view = id;
      b.textContent = label;
      b.onclick = () => setView(id);
      tabsEl.appendChild(b);
    });

    const initial = (location.hash || "#overview").slice(1);
    const exists = tabDefs.some(([id]) => id === initial);
    setView(exists ? initial : "overview");
  </script>
</body>
</html>