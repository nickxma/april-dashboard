<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OpenClaw Agent Architecture</title>
  <style>
    :root {
      --bg: #0b1020;
      --panel: #121a33;
      --text: #e9eefc;
      --muted: #9fb0d8;
      --border: #29365f;
      --accent: #66d9ef;
      --good: #56d48a;
      --warn: #ffbd45;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: linear-gradient(180deg, #0b1020, #080d18);
      color: var(--text);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 20px; }
    h1 { margin: 0 0 8px; font-size: 24px; }
    .sub { color: var(--muted); margin-bottom: 16px; }
    .grid { display: grid; grid-template-columns: 2fr 1fr; gap: 12px; }
    .card {
      background: #121a33;
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 14px;
    }
    @media (max-width: 960px) { .grid { grid-template-columns: 1fr; } }
    .label { font-size: 12px; text-transform: uppercase; letter-spacing: .08em; color: var(--muted); }
    ul { margin: 10px 0 0 18px; padding: 0; }
    li { margin: 6px 0; }
    .pill { display: inline-block; border: 1px solid var(--border); border-radius: 999px; padding: 4px 8px; font-size: 12px; margin-right: 8px; }
    .good { color: var(--good); }
    .warn { color: var(--warn); }
    svg { width: 100%; height: auto; border: 1px solid var(--border); border-radius: 12px; background: #0e1630; }
    .footer { margin-top: 12px; color: var(--muted); font-size: 12px; }
    code { color: #b6f2ff; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>OpenClaw Multi-Agent Blueprint</h1>
    <div class="sub">Proposed architecture: one high-judgment coordinator + cheaper specialist sub-agents.</div>

    <div class="grid">
      <section class="card">
        <div class="label">Topology</div>
        <svg viewBox="0 0 980 560" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
              <path d="M 0 0 L 10 5 L 0 10 z" fill="#66d9ef"/>
            </marker>
          </defs>

          <rect x="360" y="35" width="260" height="90" rx="14" fill="#142148" stroke="#3a4d82"/>
          <text x="490" y="66" fill="#e9eefc" text-anchor="middle" font-size="18" font-weight="600">Main Operator</text>
          <text x="490" y="90" fill="#9fb0d8" text-anchor="middle" font-size="13">Model: opus (high-quality)</text>
          <text x="490" y="108" fill="#9fb0d8" text-anchor="middle" font-size="13">Owns strategy + final answers</text>

          <line x1="490" y1="125" x2="200" y2="220" stroke="#66d9ef" stroke-width="2" marker-end="url(#arrow)"/>
          <line x1="490" y1="125" x2="490" y2="220" stroke="#66d9ef" stroke-width="2" marker-end="url(#arrow)"/>
          <line x1="490" y1="125" x2="780" y2="220" stroke="#66d9ef" stroke-width="2" marker-end="url(#arrow)"/>

          <rect x="70" y="220" width="260" height="110" rx="12" fill="#182852" stroke="#3a4d82"/>
          <text x="200" y="250" fill="#e9eefc" text-anchor="middle" font-size="16" font-weight="600">Research Agent</text>
          <text x="200" y="272" fill="#9fb0d8" text-anchor="middle" font-size="12">Cheap model</text>
          <text x="200" y="292" fill="#9fb0d8" text-anchor="middle" font-size="12">web_search + web_fetch</text>
          <text x="200" y="310" fill="#9fb0d8" text-anchor="middle" font-size="12">Returns cited brief</text>

          <rect x="360" y="220" width="260" height="110" rx="12" fill="#182852" stroke="#3a4d82"/>
          <text x="490" y="250" fill="#e9eefc" text-anchor="middle" font-size="16" font-weight="600">Builder Agent</text>
          <text x="490" y="272" fill="#9fb0d8" text-anchor="middle" font-size="12">Cheap coding model</text>
          <text x="490" y="292" fill="#9fb0d8" text-anchor="middle" font-size="12">File edits, scaffolds, tests</text>
          <text x="490" y="310" fill="#9fb0d8" text-anchor="middle" font-size="12">No infra changes</text>

          <rect x="650" y="220" width="260" height="110" rx="12" fill="#182852" stroke="#3a4d82"/>
          <text x="780" y="250" fill="#e9eefc" text-anchor="middle" font-size="16" font-weight="600">Ops Guard Agent</text>
          <text x="780" y="272" fill="#9fb0d8" text-anchor="middle" font-size="12">Cheap validator model</text>
          <text x="780" y="292" fill="#9fb0d8" text-anchor="middle" font-size="12">Checks risk + policy</text>
          <text x="780" y="310" fill="#9fb0d8" text-anchor="middle" font-size="12">Flags GO / no-GO</text>

          <line x1="200" y1="332" x2="490" y2="420" stroke="#66d9ef" stroke-width="2" marker-end="url(#arrow)"/>
          <line x1="490" y1="332" x2="490" y2="420" stroke="#66d9ef" stroke-width="2" marker-end="url(#arrow)"/>
          <line x1="780" y1="332" x2="490" y2="420" stroke="#66d9ef" stroke-width="2" marker-end="url(#arrow)"/>

          <rect x="325" y="420" width="330" height="95" rx="12" fill="#15325a" stroke="#3a4d82"/>
          <text x="490" y="452" fill="#e9eefc" text-anchor="middle" font-size="16" font-weight="600">Synthesis + User Reply</text>
          <text x="490" y="474" fill="#9fb0d8" text-anchor="middle" font-size="12">Main agent merges outputs + decides</text>
          <text x="490" y="492" fill="#9fb0d8" text-anchor="middle" font-size="12">Writes memory for durable decisions</text>
        </svg>
        <div class="footer">File: <code>dashboard-ui/agent-architecture.html</code></div>
      </section>

      <section class="card">
        <div class="label">Model Strategy</div>
        <ul>
          <li><span class="pill">Main = <strong>opus</strong></span> judgment + final response</li>
          <li><span class="pill">Sub-agents = cheaper model</span> research/build/validation</li>
          <li><span class="pill warn">Default = single-lane</span> parallel only on explicit <code>GO PARALLEL</code></li>
        </ul>

        <div class="label" style="margin-top:14px;">Execution Rules</div>
        <ul>
          <li>Sub-agents return structured output, not user-facing prose.</li>
          <li>Main agent is the only one that messages user.</li>
          <li>No gateway/config changes without explicit GO.</li>
          <li>Durable facts get written to <code>memory.md</code>.</li>
        </ul>

        <div class="label" style="margin-top:14px;">Next Upgrade</div>
        <ul>
          <li>Add live cards for active sub-agents, model, and runtime cost.</li>
          <li>Add topology presets: Conservative / Balanced / Throughput.</li>
        </ul>
      </section>
    </div>
  </div>
</body>
</html>